---
import { PortableText } from "astro-portabletext";
import Layout from "../layouts/Layout.astro";
import { getAbouts } from "../utils/sanity";
import { urlFor } from "../utils/image";

const abouts = await getAbouts();
const [about] = abouts;

// console.log('about', about.gallery);
---

<Layout title="Taft Hill Acres | About">
  <div class="text-center h-full w-full md:h-3/4 md:w-3/4 m-auto my-8">
    <div class="m-auto text-center">
      <h1 class="lg:w-5/6 bg-darktan text-4xl text-white p-6 m-auto">About Taft Hill Acres</h1>
      {
        about.mainImage ? (
          <img
            class="z-10 object-cover w-full lg:w-5/6 m-auto"
            src={urlFor(about.mainImage).url()}
            alt="Bridge with barn and arena in the background"
          />
        ) : (
          <div class="" />
        )
      }
    </div>
    <div class="lg:w-3/4 bg-darktan mx-auto p-4 lg:p-12">
      <h2 class="text-left text-black font-extrabold text-4xl">{about.subtitle}</h2>
      {about.title && <h2 class="text-green text-5xl text-center mb-4">{about.title}</h2>}
      <div class="text-white text-left text-2xl">
        <PortableText value={about.body} />
      </div>
    </div>
    <div class="lg:w-3/4 bg-darktan mx-auto my-8 p-4 lg:p-12">
      <h2 class="text-left text-black font-extrabold text-4xl">{about.subtitle2}</h2>
      {about.title2 && <h2 class="text-green text-5xl text-center mb-4">{about.title2}</h2>}
      <div class="text-white text-left text-2xl">
        <PortableText value={about.body} />
      </div>
    </div>
    <div class="lg:columns-3 sm:columns-2 gap-4">
      {
        about.gallery.map((item: { alt: any }) => (
          <div class="py-2 px-1 inline-block w-full group">
            <img src={urlFor(item).url()} alt={item.alt || ""} loading="lazy"/>
          </div>
        ))
      }
    </div>
  </div>
</Layout>
