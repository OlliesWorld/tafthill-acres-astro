---
import { PortableText } from "astro-portabletext";
import Layout from "../layouts/Layout.astro";
import { getHomes } from "../utils/sanity";
import { urlFor } from "../utils/image";

const homes = await getHomes();
const [home] = homes;
// console.log(home.title);
---

<Layout title="Taft Hill Acres">
  <div class="text-center h-full m-auto mb-8">
    <p class="w-full lg:w-1/2 bg-tan text-2xl font-light p-6 m-auto">
      {home.title}
    </p>
    <div class="w-full lg:w-3/5 m-auto text-center">
      {
        home.mainImage ? (
          <img
            class="z-10 object-cover w-full lg:w-5/6 m-auto"
            src={urlFor(home.mainImage).url()}
            alt="Cover image"
          />
        ) : (
          <div class="" />
        )
      }
      <div class="w-full lg:w-5/6 my-12 m-auto lg:flex justify-center">
        <p
          class="w-full lg:w-1/4 text-center border-b-2 lg:border-b-0 lg:border-r-2 border-darktan/50 lg:pr-8"
        >
          {home.blurb}
        </p>
        <p class="w-full lg:w-1/4 text-center mt-2 lg:pl-12">{home.blurb2}</p>
      </div>
    </div>
    <section class="w-full bg-tan mx-auto py-8 lg:p-8">
      <div class="w-full lg:w-2/3 m-auto">
        <h3 class="text-black text-2xl">{home.subtitle2}</h3>
        <h2 class="text-black text-5xl text-center mb-12">{home.title2}</h2>

        <div class="lg:flex justify-center lg:text-left text-2xl items-center">
          <div class="w-full mb-12 lg:w-1/2 p-4 lg:border-r-2">
            <PortableText value={home.body} />
          </div>
          <div class="w-full lg:w-1/2 lg:py-4 p-4 lg:pl-8">
            <PortableText value={home.body2} />
          </div>
        </div>
      </div>
    </section>
  </div>
  <section class="lg:w-2/3 m-auto mt-24 masonry sm:masonry-sm md:masonry-md">
    <div class="mx-auto w-3/4 lg:w-2/3 mt-4 pb-8">
      <a
        class="lg:w-3/4 bg-tan text-darktan mt-24 p-4 text-2xl font-extrabold"
        href={home.buttoninternalLink} rel="noopener noreferrer">{home.button}</a
      >
    </div>
    <div class="">
      {
        home.mason ? (
          <img
            class="mb-4 lg:mb-0"
            src={urlFor(home.mason).url()}
            alt="Cover image"
            loading="lazy"
          />
        ) : (
          <div class="" />
        )
      }
    </div>
    {
      home.mason2 ? (
        <img
          class="mb-4 lg:mb-0"
          src={urlFor(home.mason2).url()}
          alt="Cover image"
          loading="lazy"
        />
      ) : (
        <div class="" />
      )
    }
    {
      home.mason4 ? (
        <img
          class="my-4 lg:mb-0"
          src={urlFor(home.mason4).url()}
          alt="Cover image"
          loading="lazy"
        />
      ) : (
        <div class="" />
      )
    }
    {
      home.mason3 ? (
        <img
          class="mb-4 lg:mb-0"
          src={urlFor(home.mason3).url()}
          alt="Cover image"
          loading="lazy"
        />
      ) : (
        <div class="" />
      )
    }
    <div class="lg:w-3/5 ml-[85px] mt-8">
      <a
        class=" bg-tan text-darktan  p-4 lg:text-2xl font-extrabold"
        href={home.button2internalLink} rel="noopener noreferrer">{home.button2}</a
      >
    </div>
  </section>
</Layout>
